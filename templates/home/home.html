{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ—Ä—Ç–∞–ª –≥—Ä—É–ø–∏</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="bg-blue-600 text-white shadow-md">
    <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold">–ü–æ—Ä—Ç–∞–ª –≥—Ä—É–ø–∏</h1>
      <div>
        {% if user.is_authenticated %}
          <a href="{% url 'accounts:profile' %}">
            <img src="{% if userprofile.avatar %}{{ userprofile.avatar.url }}{% else %}{% static 'avatars/default.jpg' %}{% endif %}" 
                alt="Avatar" class="w-10 h-10 rounded-full border-2 border-white shadow hover:ring-2 hover:ring-blue-300 transition cursor-pointer">
          </a>
        {% else %}
          <a href="{% url 'accounts:login' %}" class="bg-white text-blue-600 px-4 py-2 rounded shadow hover:bg-gray-100 transition">–£–≤—ñ–π—Ç–∏</a>
          <a href="{% url 'accounts:register' %}" class="bg-white text-blue-600 px-4 py-2 rounded shadow hover:bg-gray-100 transition ml-2">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
  <section class="bg-blue-100 py-8">
      <div class="max-w-5xl mx-auto text-center">
        <h2 class="text-3xl font-bold text-blue-700 mb-2">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –ø–æ—Ä—Ç–∞–ª—É –≥—Ä—É–ø–∏!</h2>
        <p class="text-lg text-gray-700 mb-2">
          –¢—É—Ç –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ –Ω–æ–≤–∏–Ω–∏, —Ñ–æ—Ä—É–º, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π —â–æ–¥–µ–Ω–Ω–∏–∫, –ø–æ–¥—ñ—ó —Ç–∞ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–æ–≥–æ.
        </p>
        <div class="bg-white rounded-xl shadow p-4 inline-block mt-4">
          <h3 class="text-lg font-semibold text-blue-600 mb-1">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≥—Ä—É–ø—É</h3>
          {% if group_info %}
            <p class="text-gray-700 text-sm">
              <span class="font-semibold">–ì—Ä—É–ø–∞:</span> {{ group_info.group_name }}<br>
              <span class="font-semibold">–ö—É—Ä–∞—Ç–æ—Ä:</span> {{ group_info.curator }}<br>
              <span class="font-semibold">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤:</span> {{ group_info.student_count }}
            </p>
          {% else %}
            <p class="text-gray-700 text-sm">
              –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≥—Ä—É–ø—É –Ω–∞—Ä–∞–∑—ñ –≤—ñ–¥—Å—É—Ç–Ω—è.
            </p>
          {% endif %}
        </div>
      </div>
  </section>

  <!-- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–∂–µ—Ç—ñ–≤ -->
  <main class="max-w-7xl mx-auto py-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4">

    <!-- –ù–æ–≤–∏–Ω–∏ -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–ù–æ–≤–∏–Ω–∏</h3>
      <ul class="space-y-2 text-gray-700">
        {% for news in news_list %}
          <li>üìå {{ news.title }}</li>
        {% empty %}
          <li>üìå –ü–æ—á–∞—Ç–æ–∫ –Ω–æ–≤–æ–≥–æ —Å–µ–º–µ—Å—Ç—Ä—É</li>
          <li>üìå –ó—É—Å—Ç—Ä—ñ—á –∑ –≤–∏–∫–ª–∞–¥–∞—á–∞–º–∏ —É –ø‚Äô—è—Ç–Ω–∏—Ü—é</li>
        {% endfor %}
      </ul>
      <a href="{% url 'announcements:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–ë—ñ–ª—å—à–µ –Ω–æ–≤–∏–Ω ‚Üí</a>
    </div>

    <!-- –§–æ—Ä—É–º -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–§–æ—Ä—É–º</h3>
      <ul class="space-y-2 text-gray-700">
        {% for topic in forum_topics %}
          <li>üí¨ {{ topic.title }}</li>
        {% empty %}
          <li>üí¨ –û–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏</li>
          <li>üí¨ –ü–∏—Ç–∞–Ω–Ω—è –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∏–º</li>
        {% endfor %}
      </ul>
      <a href="{% url 'forum:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Ñ–æ—Ä—É–º ‚Üí</a>
    </div>

    <!-- –©–æ–¥–µ–Ω–Ω–∏–∫ -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–û—Å—Ç–∞–Ω–Ω—ñ –æ—Ü—ñ–Ω–∫–∏</h3>
      {% if user.is_authenticated %}
        {% if recent_grades %}
          <div class="space-y-2">
            {% for grade in recent_grades %}
              <div class="flex justify-between items-center py-2 border-b border-gray-100 last:border-0">
                <div>
                  <span class="text-gray-700 font-medium">{{ grade.subject.name }}</span>
                  <span class="text-gray-400 text-xs block">{{ grade.date|date:"d.m.Y" }}</span>
                </div>
                <span class="font-bold text-xl {% if grade.grade >= 9 %}text-green-600{% elif grade.grade >= 6 %}text-yellow-600{% else %}text-red-600{% endif %}">
                  {{ grade.grade }}
                </span>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <p class="text-gray-500 text-sm">–û—Ü—ñ–Ω–æ–∫ –ø–æ–∫–∏ –Ω–µ–º–∞—î</p>
        {% endif %}
      {% else %}
        <p class="text-gray-500 text-sm">–£–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –æ—Ü—ñ–Ω–∫–∏</p>
      {% endif %}
      <a href="{% url 'diary:grade_list' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–î–æ —â–æ–¥–µ–Ω–Ω–∏–∫–∞ ‚Üí</a>
    </div>

    <!-- –ü–æ–¥—ñ—ó -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–ü–æ–¥—ñ—ó</h3>
      <ul class="space-y-2 text-gray-700">
        {% for event in events %}
          <li>üìÖ {{ event.date|date:"d.m" }} ‚Äî {{ event.title }}</li>
        {% empty %}
          <li>üìÖ 12.10 ‚Äî –í–æ—Ä–∫—à–æ–ø –∑ Django</li>
          <li>üìÖ 20.10 ‚Äî –°–ø–æ—Ä—Ç–∏–≤–Ω–∏–π —Ç—É—Ä–Ω—ñ—Ä</li>
        {% endfor %}
      </ul>
      <a href="{% url 'events:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–ö–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–¥—ñ–π ‚Üí</a>
    </div>

    <!-- –û–≥–æ–ª–æ—à–µ–Ω–Ω—è -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–û–≥–æ–ª–æ—à–µ–Ω–Ω—è</h3>
      <ul class="space-y-2 text-gray-700">
        {% for announcement in announcements %}
          <li>üì¢ {{ announcement.title }}</li>
        {% empty %}
          <li>üì¢ –ó–¥–∞—á–∞ —Ä–æ–±—ñ—Ç –¥–æ 15.10</li>
          <li>üì¢ –í–∞–∂–ª–∏–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</li>
        {% endfor %}
      </ul>
      <a href="{% url 'announcements:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ ‚Üí</a>
    </div>

    <!-- –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏</h3>
      <ul class="space-y-2 text-gray-700">
        {% for material in materials %}
          <li>üìÇ {{ material.title }}</li>
        {% empty %}
          <li>üìÇ –ö–æ–Ω—Å–ø–µ–∫—Ç –∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏</li>
          <li>üé• –õ–µ–∫—Ü—ñ—è –∑ YouTube</li>
        {% endfor %}
      </ul>
      <a href="{% url 'materials:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–î–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ ‚Üí</a>
    </div>

    <!-- –û–ø–∏—Ç—É–≤–∞–Ω–Ω—è -->
    <div class="bg-white rounded-2xl shadow p-6">
      <h3 class="text-xl font-semibold text-blue-600 mb-3">–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è</h3>
      <ul class="space-y-2 text-gray-700">
        {% for poll in polls %}
          <li>üó≥Ô∏è {{ poll.question }}</li>
        {% empty %}
          <li>üó≥Ô∏è –Ø–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç –Ω–∞–π—Ü—ñ–∫–∞–≤—ñ—à–∏–π?</li>
        {% endfor %}
      </ul>
      <a href="{% url 'polls:index' %}" class="text-blue-500 hover:underline text-sm mt-3 block">–í—Å—ñ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è ‚Üí</a>
    </div>

  </main>

</body>
</html>